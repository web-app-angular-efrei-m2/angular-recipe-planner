@layer theme, base, components, utilities;

@import "tailwindcss";
@import "./theme.css";
@import "./utility.css";

@font-face {
  font-family: "Quicksand";
  font-display: swap;
  src: url("../../public/static/assets/fonts/Quicksand.woff2") format("woff2");
}

@layer base {
  :root[data-theme="light"] {
    --color-bg: var(--color-white);
    --color-fg: var(--color-black);
    --color-border: var(--color-gray-200);
    --color-subtle: var(--color-gray-100);
    --color-muted: var(--color-gray-200);
    --color-emphasized: var(--color-gray-300);
    --color-inverted: var(--color-gray-800);
    --color-solid: var(--color-gray-900);
    --color-focus-ring: var(--color-gray-800);
    --color-error: var(--color-red-500);
    --color-warning: var(--color-orange-500);
    --color-success: var(--color-green-500);
    --color-info: var(--color-blue-500);
    --color-shadow: var(--color-gray-900);
    --color-shadow-5: --alpha(var(--color-black) / 5%);
    --color-shadow-10: --alpha(var(--color-black) / 10%);
    --color-shadow-16: --alpha(var(--color-black) / 16%);
    --color-shadow-30: --alpha(var(--color-black) / 30%);
  }

  :root[data-theme="dark"] {
    --color-bg: var(--color-black);
    --color-fg: var(--color-gray-50);
    --color-border: var(--color-gray-800);
    --color-subtle: var(--color-gray-900);
    --color-muted: var(--color-gray-800);
    --color-emphasized: var(--color-gray-700);
    --color-inverted: var(--color-gray-200);
    --color-solid: var(--color-white);
    --color-focus-ring: var(--color-gray-200);
    --color-error: var(--color-red-400);
    --color-warning: var(--color-orange-400);
    --color-success: var(--color-green-400);
    --color-info: var(--color-blue-400);
    --color-shadow-10: --alpha(var(--color-black) / 64%);
    --color-shadow-16: --alpha(var(--color-black) / 64%);
    --color-shadow-20: inset --alpha(var(--color-gray-300) / 20%);
    --color-shadow-30: inset --alpha(var(--color-gray-300) / 30%);
  }

  :root {
    --header-height: 64px;
    --bg-currentcolor: var(--color-bg);
    --content-height: calc(100dvh - var(--header-height));
    --font-quicksand: "Quicksand", sans-serif;
  }

  @media screen and (min-width: 48rem) {
    :root {
      --header-height: 104px;
    }
  }

  html {
    color: var(--color-fg);
    background: var(--color-bg);
    --bg-currentcolor: var(--color-bg);
    --bg-contrast: oklch(from var(--bg-currentcolor) calc(1 - min(1, max(0, (l - 0.68) * 30))) 0.02 h);
  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    touch-action: manipulation;
  }

  body {
    font-family: var(--font-quicksand);
  }

  *,
  *::before,
  *::after,
  *::backdrop {
    box-sizing: border-box;
    border-width: 0px;
    border-style: solid;
    border-color: var(--color-border, currentColor);
  }

  * {
    margin: 0px;
    padding: 0px;
    word-wrap: break-word;
    -webkit-tap-highlight-color: transparent;
  }

  *:focus-visible {
    outline: 2px solid;
    outline-offset: 2px;
    outline-color: var(--color-focus-ring);
  }

  [role="group"][data-attached] > :not(:last-of-type) {
    margin-inline-end: -1px;
  }

  [role="group"][data-attached] > :first-of-type:not(:last-of-type) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-right: 0;
  }

  [role="group"][data-attached] > :not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
    border-right: 0;
  }

  [role="group"][data-attached] > :not(:first-of-type):last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
}

@layer components {
  /* ACCORDION COMPONENT STYLES */
  .accordion {
    &::details-content {
      @apply transition-all transition-discrete duration-300 ease-in-out overflow-hidden h-full max-h-0;
    }
    &[open]::details-content {
      @apply max-h-[var(--height)];
    }
  }
  /* LINK OVERLAY COMPONENT STYLES */
  .link-overlay {
    @apply static before:absolute before:inset-0 before:block before:cursor-[inherit] before:content-[''] hover:no-underline;
  }
  /* INPUT COMPONENT STYLES */
  .input {
    @apply relative w-full appearance-none rounded-sm text-start focus-visible:outline-offset-0 disabled:cursor-disabled disabled:opacity-50;
    &:checked {
      @apply before:content-['âœ”'];
    }
  }
  .input-invalid {
    @apply min-w-8 h-8 text-xs px-2;
  }
  .input-sm {
    @apply min-w-9 h-9 text-sm px-2.5;
  }
  .input-md {
    @apply min-w-10 h-10 text-sm px-3;
  }
  .input-lg {
    @apply min-w-11 h-11 text-md px-4;
  }
  .input-outline {
    @apply border bg-transparent focus-visible:border-transparent aria-[invalid=true]:border-[var(--color-error)] aria-[invalid=true]:outline-[var(--color-error)] aria-[invalid=true]:-outline-offset-1;
  }
  .input-subtle {
    @apply bg-[var(--color-subtle)] aria-[invalid=true]:border aria-[invalid=true]:border-[var(--color-error)] aria-[invalid=true]:outline-[var(--color-error)];
  }
  .input-flushed {
    @apply rounded-none border-b bg-transparent px-0 focus-visible:border-transparent focus-visible:shadow-[0_2px_0_0_var(--color-focus-ring)] focus-visible:outline-transparent aria-[invalid=true]:border-[var(--color-error)] aria-[invalid=true]:shadow-[color:var(--color-error)];
  }

  /* BUTTON COMPONENT STYLES */
  .button {
    @apply relative isolate inline-flex shrink-0 cursor-pointer select-none appearance-none items-center justify-center whitespace-nowrap align-middle font-medium transition-colors duration-300 disabled:cursor-not-allowed disabled:opacity-50;
  }
  .button-2xs {
    @apply h-6 min-w-6 gap-1 px-2 text-xs;
  }
  .button-xs {
    @apply h-8 min-w-8 gap-1 px-2.5 text-xs;
  }
  .button-sm {
    @apply h-9 min-w-9 gap-2 px-3.5 text-sm;
  }
  .button-md {
    @apply h-10 min-w-10 gap-2 px-4 text-sm;
  }
  .button-lg {
    @apply h-11 min-w-11 gap-3 px-5 text-md;
  }
  .button-xl {
    @apply h-12 min-w-12 gap-2.5 px-5 text-md;
  }
  .button-ghost {
    @apply rounded-sm bg-current/0 hover:bg-opacity-20 active:bg-opacity-25 disabled:bg-opacity-0;
  }
  .button-link {
    @apply rounded-xs gap-1.5 decoration-current/20 underline-offset-3 hover:underline active:opacity-85! disabled:no-underline;
  }
  .button-outline {
    @apply rounded-sm border border-current/20 bg-current/0 hover:bg-opacity-20! active:bg-opacity-25! disabled:bg-opacity-0!;
  }
  .button-solid {
    @apply rounded-sm bg-[var(--color-fg)] text-[var(--bg-contrast)] hover:bg-opacity-90! active:bg-opacity-85! disabled:bg-opacity-100!;
  }
  .button-subtle {
    @apply rounded-sm bg-current/15 hover:bg-opacity-20! active:bg-opacity-25! disabled:bg-opacity-10!;
  }
  .button-unstyled {
    @apply h-auto min-w-0 gap-0 px-0 text-inherit;
  }
  /* ALERT COMPONENT STYLES */
  .alert {
    @apply w-full flex items-center relative rounded-md gap-3 p-4 text-sm;
  }
  .alert-info {
    @apply bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300;
  }
  .alert-success {
    @apply bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300;
  }
  .alert-warning {
    @apply bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300;
  }
  .alert-error {
    @apply bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300;
  }
}
